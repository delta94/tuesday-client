{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/jeffreyquan/Projects/project2/tuesday-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jeffreyquan/Projects/project2/tuesday-client/src/components/Control.js\";\n\nfunction _templateObject12() {\n  const data = _taggedTemplateLiteral([\"\\n            border: 1px solid lightgrey;\\n            background-color: white;\\n            width: 430px;\\n            height:150px;\\n            margin: 0;\\n            padding: 6px 12px;\\n            color: black;\\n            font-size:1em;\\n            font-family: \\\"Abel\\\";\\n\\n            &:focus {\\n            border: 1px solid #0086C0;\\n            }\\n            \"]);\n\n  _templateObject12 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  const data = _taggedTemplateLiteral([\"\\n        border: 1px solid lightgrey;\\n        background-color: white;\\n        width: 430px;\\n        height:50px;\\n        margin: 0;\\n        padding: 6px 12px;\\n        color: black;\\n        font-size: 1em;\\n        font-family: \\\"Abel\\\";\\n\\n        &:focus {\\n        border: 1px solid #0086C0;\\n        }\\n        \"]);\n\n  _templateObject11 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  const data = _taggedTemplateLiteral([\"\\n        display: inline-block;\\n        font-family: Abel;\\n        cursor: pointer;\\n        padding: .6rem 2rem;\\n        font-size: 1.3rem;\\n        color: rgb(0, 154, 255);\\n\\n        &:hover {\\n            color: #0086C0;\\n        }\\n    \"]);\n\n  _templateObject10 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  const data = _taggedTemplateLiteral([\"\\n        display: inline-block;\\n        font-family: Abel;\\n        text-align: center;\\n        cursor: pointer;\\n        border: 1px solid transparent;\\n        padding: .6rem 2rem;\\n        font-size: 1.3rem;\\n        border-radius: 15rem;\\n        background-color: rgb(0, 154, 255);\\n        color: white;\\n\\n        &:hover {\\n            background-color: #0086C0;\\n        }\\n    \"]);\n\n  _templateObject9 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  const data = _taggedTemplateLiteral([\"\\n        position: fixed;\\n        top: 50%;\\n        left: 50%;\\n        transform: translate(-50%, -50%);\\n        width: 30%;\\n        background-color: white;\\n        border: 1px solid rgb(204, 204, 204);\\n        overflow: hidden auto;\\n        border-radius: 4px;\\n        outline: none;\\n        padding: 32px;\\n        transition: all 0.3s ease 0s;\\n        will-change: width;\\n        max-width: 1020px;\\n        width: 500px;\\n        font-family: Abel;\\n\\n        z-index: 9;\\n        \"]);\n\n  _templateObject8 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  const data = _taggedTemplateLiteral([\"\\n        border: none;\\n        background-color: transparent;\\n        color: rgba(95, 108, 113, 0.5);\\n\\n        &:hover{\\n            color: #0086C0;\\n            cursor: pointer;\\n\\n        }\\n    \"]);\n\n  _templateObject7 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  const data = _taggedTemplateLiteral([\"\\n        display: flex;\\n        align-item: center;\\n    \"]);\n\n  _templateObject6 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  const data = _taggedTemplateLiteral([\"\\n        display: flex;\\n        justify-content: space-between;\\n        color: rgba(95, 108, 113, 0.5);\\n        padding: 4px;\\n        margin-top: 3px;\\n        border-radius: 5px;\\n        align-item: center;\\n        height: 30px;\\n        font-family: \\\"Abel\\\";\\n        overflow: scroll;\\n        overflow-x: hidden;\\n\\n        &:hover {\\n            background-color: rgba(95, 108, 113, 0.1);\\n            color: #333333;\\n\\n        }\\n    \"]);\n\n  _templateObject5 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n        fond-family: \\\"Abel\\\";\\n        font-size: 1.5rem;\\n        font-weight: 800;\\n        display: flex;\\n        justify-content: space-between;\\n\\n    \"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n    \"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n        fond-family: \\\"Abel\\\";\\n        font-size: 1.5rem;\\n        cursor: pointer;\\n        display: flex;\\n        justify-content: flex-start;\\n    \"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n      background-color: white !important;\\n      border-top-left-radius: 20px;\\n      width: 255px;\\n      height: 100vh;\\n      padding: 1.2em;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport underscore from 'underscore';\nimport Collapsible from './partial/Collapsible.js';\nimport NotInterestedRoundedIcon from '@material-ui/icons/NotInterestedRounded';\nimport CheckCircleOutlineRoundedIcon from '@material-ui/icons/CheckCircleOutlineRounded';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AddCircleRoundedIcon from '@material-ui/icons/AddCircleRounded';\nimport MailOutlineRoundedIcon from '@material-ui/icons/MailOutlineRounded';\nimport _ from 'underscore';\nconst ControlStyle = styled.div(_templateObject());\n\nclass Control extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      memberships: null,\n      openNewForm: false\n    };\n    this.saveProject = this.saveProject.bind(this);\n    this.newForm = this.newForm.bind(this);\n\n    if (props.user) {\n      this.state.user_id = props.user.id;\n      this.state.email = props.user.email;\n    }\n\n    const fetchMemberships = () => {\n      axios.get(\"https://tuesday-server.herokuapp.com/users/\".concat(this.state.user_id, \".json\")).then(results => {\n        const memberships = results.data.memberships;\n        this.setState({\n          memberships: memberships\n        });\n        setTimeout(fetchMemberships, 10000);\n      });\n    };\n\n    fetchMemberships();\n  }\n\n  saveProject(content) {\n    axios.post(\"https://tuesday-server.herokuapp.com/projects.json\", content).then(result => {\n      debugger;\n      console.log(result.data.memberships[0]);\n      this.setState({\n        memberships: [...this.state.memberships, result.data.memberships[0]]\n      });\n    });\n  }\n\n  newForm() {\n    this.setState({\n      openNewForm: !this.state.openNewForm\n    });\n  }\n\n  render() {\n    let renderForm;\n    this.state.openNewForm ? renderForm = React.createElement(NewProjectForm, {\n      onSubmit: this.saveProject,\n      newForm: this.newForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }) : renderForm = null;\n\n    if (this.state.memberships === null) {\n      return React.createElement(React.Fragment, null);\n    }\n\n    return React.createElement(ControlStyle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(SmallTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(MailOutlineRoundedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), \" \", React.createElement(\"span\", {\n      style: {\n        marginLeft: \"1em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Inbox\")), React.createElement(\"div\", {\n      style: {\n        minHeight: '18vh',\n        borderBottom: '1px solid #F1F1F1'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Collapsible, {\n      title: \"Pending invites (\".concat(_.where(this.state.memberships, {\n        invitation: false\n      }).length, \")\"),\n      function: \"invitation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Memberships, {\n      memberships: this.state.memberships,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Projects\"), React.createElement(\"span\", {\n      onClick: this.newForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(AddCircleRoundedIcon, {\n      style: {\n        color: '#009AFF',\n        fontSize: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(Projects, {\n      memberships: this.state.memberships,\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), renderForm);\n  }\n\n}\n\nconst SmallTitle = styled.h1(_templateObject2());\n\nfunction Memberships(props) {\n  return React.createElement(MembershipWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, props.memberships.map(m => m.invitation === false ? React.createElement(Invitation, {\n    membership: m,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }) : null));\n}\n\nconst MembershipWrap = styled.div(_templateObject3());\n\nclass Invitation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      membership_id: this.props.membership.id\n    };\n    this._acceptInvite = this._acceptInvite.bind(this);\n    this._declineInvite = this._declineInvite.bind(this);\n  }\n\n  _acceptInvite() {\n    axios.put(\"https://tuesday-server.herokuapp.com/memberships/\".concat(this.state.membership_id, \".json\"), {\n      invitation: true\n    }).then(result => console.log('Successfully updated.'));\n  }\n\n  _declineInvite() {\n    axios.delete(\"https://tuesday-server.herokuapp.com/memberships/\".concat(this.state.membership_id, \".json\")).then(result => console.log('Successfully deleted.'));\n  }\n\n  render() {\n    return React.createElement(InvitationWrap, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Wrap, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(AccountTreeOutlinedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        width: '130px',\n        overflowX: 'scroll'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, this.props.membership.project.name)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this._acceptInvite,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(CheckCircleOutlineRoundedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: this._declineInvite,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(NotInterestedRoundedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst Title = styled.h1(_templateObject4());\nconst InvitationWrap = styled.div(_templateObject5());\nconst Wrap = styled.div(_templateObject6());\nconst Button = styled.button(_templateObject7());\n\nfunction Projects(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, props.memberships.map(p => {\n    if (p.invitation === true) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          color: '#009AFF',\n          fontWeight: 'bold',\n          fontSize: '17px',\n          marginTop: '0.5em'\n        },\n        onClick: () => {\n          props.onClick(p.project.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, p.project.name));\n    }\n  }));\n}\n\nclass NewProjectForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      description: ''\n    };\n    this._handleInput = this._handleInput.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n  }\n\n  _handleInput(event) {\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  _handleSubmit(event) {\n    event.preventDefault();\n    this.props.onSubmit(this.state);\n    this.setState({\n      name: '',\n      description: ''\n    });\n    this.props.newForm();\n  }\n\n  render() {\n    return React.createElement(StyledForm, {\n      onSubmit: this._handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        margin: '0 0 1em 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Create Project\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"Project Name\",\n      required: true,\n      value: this.state.name,\n      onInput: this._handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      type: \"text\",\n      name: \"description\",\n      placeholder: \"Project Description\",\n      value: this.state.description,\n      onInput: this._handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        margin: '2em 0 0 12em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(BackLink, {\n      onClick: this.props.newForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \" Cancel \"), React.createElement(SubmitFormButton, {\n      type: \"submit\",\n      name: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Create\")));\n  }\n\n}\n\nconst StyledForm = styled.form(_templateObject8());\nconst SubmitFormButton = styled.button(_templateObject9());\nconst BackLink = styled.span(_templateObject10());\nconst Input = styled.input(_templateObject11());\nconst TextField = styled.textarea(_templateObject12());\nexport default Control;","map":{"version":3,"sources":["/Users/jeffreyquan/Projects/project2/tuesday-client/src/components/Control.js"],"names":["React","Component","useState","Link","axios","styled","underscore","Collapsible","NotInterestedRoundedIcon","CheckCircleOutlineRoundedIcon","AccountTreeOutlinedIcon","AddCircleRoundedIcon","MailOutlineRoundedIcon","_","ControlStyle","div","Control","constructor","props","state","memberships","openNewForm","saveProject","bind","newForm","user","user_id","id","email","fetchMemberships","get","then","results","data","setState","setTimeout","content","post","result","console","log","render","renderForm","marginLeft","minHeight","borderBottom","where","invitation","length","color","fontSize","onClick","SmallTitle","h1","Memberships","map","m","MembershipWrap","Invitation","membership_id","membership","_acceptInvite","_declineInvite","put","delete","width","overflowX","project","name","Title","InvitationWrap","Wrap","Button","button","Projects","p","fontWeight","marginTop","NewProjectForm","description","_handleInput","_handleSubmit","event","target","value","preventDefault","onSubmit","margin","StyledForm","form","SubmitFormButton","BackLink","span","Input","input","TextField","textarea"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport underscore from 'underscore'\n\nimport Collapsible from './partial/Collapsible.js'\n\nimport NotInterestedRoundedIcon from '@material-ui/icons/NotInterestedRounded';\nimport CheckCircleOutlineRoundedIcon from '@material-ui/icons/CheckCircleOutlineRounded';\nimport AccountTreeOutlinedIcon from '@material-ui/icons/AccountTreeOutlined';\nimport AddCircleRoundedIcon from '@material-ui/icons/AddCircleRounded';\nimport MailOutlineRoundedIcon from '@material-ui/icons/MailOutlineRounded';\n\nimport _ from 'underscore'\n\nconst ControlStyle = styled.div`\n      background-color: white !important;\n      border-top-left-radius: 20px;\n      width: 255px;\n      height: 100vh;\n      padding: 1.2em;\n`;\n\nclass Control extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            memberships: null,\n            openNewForm: false\n        };\n\n        this.saveProject = this.saveProject.bind(this);\n        this.newForm = this.newForm.bind(this);\n\n        if (props.user) {\n            this.state.user_id = props.user.id;\n            this.state.email = props.user.email;\n        }\n\n        const fetchMemberships = () => {\n          axios.get(`https://tuesday-server.herokuapp.com/users/${ this.state.user_id }.json`).then( ( results ) => {\n            const memberships = results.data.memberships;\n            this.setState({\n              memberships: memberships,\n            });\n            setTimeout( fetchMemberships, 10000);\n          });\n        }\n        fetchMemberships();\n      }\n\nsaveProject(content) {\n  axios.post(`https://tuesday-server.herokuapp.com/projects.json`, content).then((result) => {\n    debugger;\n    console.log(result.data.memberships[0]);\n    this.setState({memberships: [...this.state.memberships, result.data.memberships[0]]})\n    })\n}\n\n    newForm(){\n        this.setState({\n            openNewForm: !this.state.openNewForm\n        })\n    }\n\n    render() {\n        let renderForm;\n        this.state.openNewForm ? renderForm=<NewProjectForm onSubmit={ this.saveProject } newForm={this.newForm}/> : renderForm=null;\n\n        if ( this.state.memberships === null ) {\n            return (<>\n                </>);\n            }\n            return (\n                <ControlStyle>\n                <SmallTitle><MailOutlineRoundedIcon /> <span style={{marginLeft: \"1em\"}}>Inbox</span></SmallTitle>\n                <div style={{minHeight: '18vh', borderBottom:'1px solid #F1F1F1'}}>\n                <Collapsible title={`Pending invites (${_.where(this.state.memberships, {invitation: false}).length})`} function=\"invitation\" >\n                <Memberships memberships={ this.state.memberships } />\n                </Collapsible>\n                </div>\n\n                <div>\n                <Title><span>Projects</span><span onClick={this.newForm}  ><AddCircleRoundedIcon style={{color: '#009AFF', fontSize:'30px'}} /></span></Title>\n                <Projects memberships={ this.state.memberships } onClick={ this.props.onClick }/>\n\n                </div>\n                {renderForm}\n                </ControlStyle>\n            )\n        }\n    }\n\n    const SmallTitle = styled.h1`\n        fond-family: \"Abel\";\n        font-size: 1.5rem;\n        cursor: pointer;\n        display: flex;\n        justify-content: flex-start;\n    `;\n\n\n    function Memberships(props) {\n        return (\n            <MembershipWrap>\n            {props.memberships.map(m => m.invitation === false ? <Invitation membership={ m }/> : null)}\n            </MembershipWrap>\n        );\n    }\n\n    const MembershipWrap = styled.div`\n    `;\n\n    class Invitation extends Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                membership_id: this.props.membership.id,\n            };\n\n            this._acceptInvite = this._acceptInvite.bind(this);\n            this._declineInvite = this._declineInvite.bind(this);\n        }\n\n        _acceptInvite() {\n            axios.put(`https://tuesday-server.herokuapp.com/memberships/${ this.state.membership_id }.json`, {invitation : true}).then(result => console.log('Successfully updated.'))\n        }\n\n        _declineInvite() {\n            axios.delete(`https://tuesday-server.herokuapp.com/memberships/${ this.state.membership_id }.json`).then( result => console.log('Successfully deleted.'))\n        }\n\n        render() {\n            return (\n                <InvitationWrap>\n                <Wrap>\n                <AccountTreeOutlinedIcon /><span style={{width: '130px', overflowX:'scroll'}}>{ this.props.membership.project.name }</span>\n                </Wrap>\n                <div>\n                <Button onClick={ this._acceptInvite }><CheckCircleOutlineRoundedIcon /></Button>\n                <Button onClick={ this._declineInvite }><NotInterestedRoundedIcon /></Button>\n                </div>\n                </InvitationWrap>\n            )\n        }\n    }\n\n    const Title = styled.h1`\n        fond-family: \"Abel\";\n        font-size: 1.5rem;\n        font-weight: 800;\n        display: flex;\n        justify-content: space-between;\n\n    `;\n\n    const InvitationWrap = styled.div`\n        display: flex;\n        justify-content: space-between;\n        color: rgba(95, 108, 113, 0.5);\n        padding: 4px;\n        margin-top: 3px;\n        border-radius: 5px;\n        align-item: center;\n        height: 30px;\n        font-family: \"Abel\";\n        overflow: scroll;\n        overflow-x: hidden;\n\n        &:hover {\n            background-color: rgba(95, 108, 113, 0.1);\n            color: #333333;\n\n        }\n    `;\n\n    const Wrap = styled.div`\n        display: flex;\n        align-item: center;\n    `;\n\n\n    const Button = styled.button`\n        border: none;\n        background-color: transparent;\n        color: rgba(95, 108, 113, 0.5);\n\n        &:hover{\n            color: #0086C0;\n            cursor: pointer;\n\n        }\n    `;\n\n    function Projects(props) {\n        return (\n            <div>\n            {props.memberships.map( (p) => {\n                if ( p.invitation === true ) {\n                    return (\n                        <div>\n                          <button style={{color: '#009AFF', fontWeight: 'bold', fontSize: '17px', marginTop: '0.5em'}} onClick={() => { props.onClick(p.project.id);\n                           }}>{ p.project.name }</button>\n                        {/* <Link to={{\n                        //     pathname: \"/dashboard\",\n                        //     state:{ project: p.project }\n                        // }}>{ p.project.name }</Link> */}\n                        </div>\n                    )\n                }\n            })}\n            </div>\n        )\n    }\n\n    class NewProjectForm extends Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                name: '',\n                description: ''\n            }\n            this._handleInput = this._handleInput.bind(this);\n            this._handleSubmit = this._handleSubmit.bind(this);\n        }\n\n        _handleInput(event) {\n            const { name, value } = event.target\n            this.setState({ [name]: value })\n        }\n\n        _handleSubmit(event) {\n            event.preventDefault();\n            this.props.onSubmit(this.state);\n            this.setState({\n                name: '',\n                description: ''\n            })\n            this.props.newForm()\n        }\n\n\n        render() {\n            return (\n                <StyledForm onSubmit={ this._handleSubmit }>\n                <h2 style={{margin: '0 0 1em 0' }}>Create Project</h2>\n                <div>\n                <Input\n                type=\"text\"\n                name=\"name\"\n                placeholder =\"Project Name\"\n                required\n                value={ this.state.name }\n                onInput={ this._handleInput }\n                />\n                <TextField\n                type=\"text\"\n                name=\"description\"\n                placeholder =\"Project Description\"\n                value={ this.state.description }\n                onInput={ this._handleInput }\n                />\n                </div>\n                <div style={{margin: '2em 0 0 12em' }}>\n                <BackLink onClick={this.props.newForm}> Cancel </BackLink>\n                <SubmitFormButton type=\"submit\" name=\"Submit\" >Create</SubmitFormButton>\n                </div>\n                </StyledForm>\n            )\n        }\n    }\n\n    const StyledForm = styled.form`\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 30%;\n        background-color: white;\n        border: 1px solid rgb(204, 204, 204);\n        overflow: hidden auto;\n        border-radius: 4px;\n        outline: none;\n        padding: 32px;\n        transition: all 0.3s ease 0s;\n        will-change: width;\n        max-width: 1020px;\n        width: 500px;\n        font-family: Abel;\n\n        z-index: 9;\n        `;\n\n    const SubmitFormButton = styled.button`\n        display: inline-block;\n        font-family: Abel;\n        text-align: center;\n        cursor: pointer;\n        border: 1px solid transparent;\n        padding: .6rem 2rem;\n        font-size: 1.3rem;\n        border-radius: 15rem;\n        background-color: rgb(0, 154, 255);\n        color: white;\n\n        &:hover {\n            background-color: #0086C0;\n        }\n    `;\n\n    const BackLink = styled.span`\n        display: inline-block;\n        font-family: Abel;\n        cursor: pointer;\n        padding: .6rem 2rem;\n        font-size: 1.3rem;\n        color: rgb(0, 154, 255);\n\n        &:hover {\n            color: #0086C0;\n        }\n    `;\n\n    const Input = styled.input`\n        border: 1px solid lightgrey;\n        background-color: white;\n        width: 430px;\n        height:50px;\n        margin: 0;\n        padding: 6px 12px;\n        color: black;\n        font-size: 1em;\n        font-family: \"Abel\";\n\n        &:focus {\n        border: 1px solid #0086C0;\n        }\n        `;\n\n        const TextField = styled.textarea`\n            border: 1px solid lightgrey;\n            background-color: white;\n            width: 430px;\n            height:150px;\n            margin: 0;\n            padding: 6px 12px;\n            color: black;\n            font-size:1em;\n            font-family: \"Abel\";\n\n            &:focus {\n            border: 1px solid #0086C0;\n            }\n            `;\nexport default Control;\n"]},"metadata":{},"sourceType":"module"}